<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    >
    <!-- Compiled and minified CSS -->
    <!-- minify -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>
    <link
      href="https://unpkg.com/nes.css@2.1.0/css/nes.min.css"
      rel="stylesheet"
    />
    <!-- latest -->
    <link
      href="https://unpkg.com/nes.css@latest/css/nes.min.css"
      rel="stylesheet"
    />
    <!-- core style only -->
    <link
      href="https://unpkg.com/nes.css/css/nes-core.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="style.css"
    >
    <meta
      http-equiv="X-UA-Compatible"
      content="ie=edge"
    >
    <title>Document</title>
    <style>
      body {
        margin-top: 30px;
        margin-left: 30px;
        margin-right: 30px;
      }
    </style>
  </head>

  <body id="great-container">
    <h1>socket.io app</h1>
    <div class="row">
      <div class="grid-container">
        <div class="guard">guard</div>
        <div class="input">
          <form id="msg-form">
            <div class="nes-field">
              <label for="msg-field">MSG</label>
              <input
                style="float: left"
                type="text"
                id="msg-field"
                class="nes-input"
              >
            </div>
            <div style="justify-self: end;
              align-self: end;">
              <button
                class="nes-btn is-primary"
                type="submit"
                name="send-msg"
                id="send-msg"
              >Send</button>
            </div>
        </div>
        </form>
      </div>
    </div>
    </div>
    <div class="row">
      <div class="grid-container">
        <div class="sidebar">
          <ul>
            <li>teste</li>
            <li>teste</li>
            <li>teste</li>
            <li>teste</li>
            <li>teste</li>
            <li>teste</li>
            <li>teste</li>
            <li>teste</li>
          </ul>
        </div>
        <div
          class="chat-area"
          id="chat-area"
        >chat-area</div>
      </div>
    </div>
    <script src="/socket.io/socket.io.js"></script>
    <script>

      $(() => {
        let msg = document.getElementById('msg-field').value;
        // let socket = io('http://localhost:3000');
        let socket = io.connect();
        socket.on('connect', (c) => { console.log('connected') });
        socket.on('event', function (data) { });
        socket.on('disconnect', function () { });
        let $msgForm = $('#msg-form');
        let $msg = $('#msg-field');
        let $chat = $('#chat-area');
        $msgForm.submit(e => {
          e.preventDefault();
          socket.emit('send message', $msg.val());
          console.log($msg.val());
        });

      });



    </script>
  </body>

</html>